import{d as Rt,r as y,c as Te,o as Lt,a as w,b as x,f as T,n as Ye,e as B,i as C,t as Z,m as ce,l as ke,w as Nt,v as Mt,Q as At,h as Ut,F as Ft,q as Re,s as Le,P as $t,B as re,x as Bt,j as Dt}from"./entry.5c369aec.js";import{_ as Vt}from"./payment-warning.f2c3c0d4.js";import{u as Ht,b as qt,m as Oe,c as Jt,an as de,aa as j,f as Xe,h as et,w as tt,ao as zt,Q as he,O as ge,G as Pe,ap as at,P as Gt}from"./constants.13a75f2f.js";import{S as I,E as me,b as Wt}from"./index.f6c12e94.js";import{t as Kt,f as Qt}from"./funnel_event_helper.a96a8f20.js";import{F as rt}from"./FunnelServices.375c9c00.js";import{h as Zt,f as xe,g as jt,a as Yt,c as Xt,b as ea}from"./orderform_helpers.93d9f59b.js";import{p as ta}from"./pure.9cabf600.js";import{u as aa}from"./useRedirectAction.d5146b2f.js";import{P as U,C as nt,s as Ce,S as ve,b as st,c as ot,N as lt,A as it}from"./HLConst.b017eec0.js";import{_ as ra}from"./MoonLoader.vue.8342d047.js";import"./HLImage.vue.5a4fcf73.js";import"./client-only.fc6ea41e.js";import"./components.e02b3d0b.js";import"./HtmlPreview.vue.cd3b3649.js";import"./utils.7603e0a4.js";import"./index.c7990ac1.js";import"./am_helper.fba3fa6e.js";import"./currency_helper.ed08bd45.js";const na=Re(()=>Le(()=>import("./Recaptcha.3bd218ed.js"),[],import.meta.url).then(v=>v.default||v)),sa=Re(()=>Le(()=>import("./PaymentElementComponent.13255b7d.js"),["./ghl-payment-element.7d9a1d68.css","./PaymentElementComponent.3a186e73.css"],import.meta.url).then(v=>v.default||v)),oa=Re(()=>Le(()=>import("./PaymentElementModal.629b288c.js"),["./ghl-payment-element.7d9a1d68.css","./PaymentElementModal.239d302f.css"],import.meta.url).then(v=>v.default||v)),la=["id","href","target","rel","data-animation-class","aria-label"],ia={key:0,style:{"margin-right":"5px"},class:"button-icon-start"},ua={class:"main-heading-button"},ca={key:1,style:{"margin-left":"5px"},class:"button-icon-end"},da={class:"sub-heading-button"},ma={key:1,class:"recaptcha-container button-recaptcha-container"},va={key:0},pa=["disabled","data-animation-class","id","aria-label"],ya={key:0,class:"button-icon-start"},fa={class:"main-heading-button"},_a={key:1,class:"button-icon-end"},ha={class:"sub-heading-button"},ga={class:"btn-loader-position",style:{left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}},Pa={key:0},Ia=["id"],ba={key:0,class:"card-el-error-msg"},Sa=B("img",{src:Vt,alt:"alert"},null,-1),Ea={key:3,class:"card-el-error-msg error-message",style:{"justify-content":"center"}},wa={inheritAttrs:!1},za=Rt({...wa,__name:"Button",props:{element:{type:Object,required:!0},classStyles:{type:Array,required:!0}},setup(v){var ze,Ge,We,Ke,Qe,Ze,je;const m=v,a=Ht(),{openPopup:ut}=Wt(),Ne=qt(m.element),{call:ct,createMembershipToken:Me,mailTo:dt,sms:mt,goToNextFunnelStep:ne,openUrl:Ie,getNextFunnelStepURL:vt,goToStep:pt}=aa(),yt=Dt(),{$bus:Ae}=yt;let Y=(Ge=(ze=m.element.extra)==null?void 0:ze.text)==null?void 0:Ge.value;Y=Oe(Y);let X=(Ke=(We=m.element.extra)==null?void 0:We.subText)==null?void 0:Ke.value;X=Oe(X);const ft=a.value.funnelId,_t=a.value.stepId,ht=a.value.funnelPageId,h=a.value.locationId,V=(je=(Ze=(Qe=m.element.extra)==null?void 0:Qe.productId)==null?void 0:Ze.value)==null?void 0:je.id,f=y(!1),pe=y(!1),be=y(""),Se=y(""),b=y(),Ue=y(!1),ye=y(""),ee=y(""),R=y(!1),gt=Te(()=>{var e;return((e=b.value)==null?void 0:e.price.type)==="recurring"}),i=y(),L=y(""),se=y(!1),H=y(),oe=y(""),Fe=y(!1),F=y(!0),q=y(),$e=$t(),Be=y(),z=y({mode:"payment",amount:0,currency:"",contact:{id:"",full_name:"",email:"",phone:"",shippingAddress:{city:"",state:"",country:"",zipCode:"",line1:""}}}),fe=y(),_e=y(),M=y({mode:"payment",amount:0,currency:"usd",enableBNPL:!0,paymentMethodConfiguration:a.value.isLivePaymentMode?$e.public.STRIPE_DEFAULT_CONFIGURATION_LIVE:$e.public.STRIPE_DEFAULT_CONFIGURATION_TEST}),De=y(""),G=y(!1),{action:{value:W},visitWebsite:{value:D}}=m.element.extra,J=Te(()=>{var e;return((e=a.value.paymentProviderDetails)==null?void 0:e.provider)===U.CUSTOM_PROVIDER&&!!a.value.customProviderPublishableKey&&W===I.SELL_PRODUCT}),Pt=async e=>{e.type==="ready"?(F.value=!1,q.value="",f.value=!1):e.type==="processing"?(R.value=!0,q.value=""):e.type==="error"?(e.message==="Request failed with status code 429"?(H.value=void 0,se.value=!0):q.value=e.message,R.value=!1,F.value=!1):e.type==="success"?(q.value="",R.value=!1,await It(e)):e.type==="close"&&(q.value="Payment cancelled",R.value=!1,F.value=!1)},It=async e=>{try{let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t));const{paymentResponseData:l}=await Zt(t,e.data,e.provider,h);await le(l)}catch(t){q.value=t}finally{sessionStorage.removeItem("orderResponse"),sessionStorage.removeItem("contactResponse")}},Ve=()=>{const e=(Y??"")+" "+(X??"");if(Y||X)return e;if(W===I.GO_TO_URL){const{visitWebsite:{value:t}}=m.element.extra;return t==null?void 0:t.url}return e},bt=e=>{if(!e){oe.value="Verification failed! Please try again";return}oe.value="",H.value=e},He=[I.CLICK_TO_CALL,I.CLICK_TO_SMS,I.GO_TO_URL,I.GO_TO_STEP];He.includes(W)&&(pe.value=!0,Jt(D==null?void 0:D.url)||(be.value=Je())),Lt(()=>{He.includes(W)&&(pe.value=!0,be.value=Je()),a.value.orderFormVersion===2&&V&&W===I.SELL_PRODUCT&&(St(),fe.value=JSON.parse(localStorage.getItem("_ud")||"{}").country)});async function St(){var e,t,l,u,c,d,s,_,p,P;try{const r=await rt.findProductById({productId:V}),g=(e=r==null?void 0:r.price)==null?void 0:e.setupFee,N=(t=r==null?void 0:r.price)==null?void 0:t.trialPeriod,k=(l=r==null?void 0:r.price)==null?void 0:l.amount,S=g?N?g:k+g:N?0:k;r.amount=S,b.value={...r,qty:1,amount:r.amount},ee.value=(u=r==null?void 0:r.price)==null?void 0:u.currency,z.value.amount=b.value.amount,z.value.currency=ee.value,z.value.mode=((c=b.value)==null?void 0:c.price.type)==="recurring"?"subscription":"payment",z.value.productDetails=[{productId:(d=r==null?void 0:r.product)==null?void 0:d._id,priceId:(s=r==null?void 0:r.price)==null?void 0:s._id}],M.value.amount=b.value.amount,M.value.currency=ee.value.toLowerCase(),((_=b.value)==null?void 0:_.price.type)==="recurring"?M.value.mode="subscription":b.value.amount?M.value.mode="payment":(M.value.mode="setup",M.value.amount=void 0);let n=localStorage.getItem("_ud");n&&(n=JSON.parse(n),z.value.contact={id:n==null?void 0:n.id,full_name:n==null?void 0:n.full_name,email:n==null?void 0:n.email,phone:n==null?void 0:n.phone,shippingAddress:{city:n==null?void 0:n.city,state:_e.value,country:n==null?void 0:n.country,zipCode:n==null?void 0:n.postal_code,line1:n==null?void 0:n.address1}}),setTimeout(()=>{Fe.value=!0},1e3)}catch(r){const g=((P=(p=r==null?void 0:r.response)==null?void 0:p.data)==null?void 0:P.message)||(r==null?void 0:r.message)||"Not able to fetch products!";console.error(g),alert("Not able to fetch products!")}}async function Et(){var t,l,u,c,d,s,_,p,P,r,g,N,k,S,n,A;const{action:e}=m.element.extra;switch(e.value){case"openPopup":{Kt(a.value.stepId),ut();break}case"url":{const{visitWebsite:o}=m.element.extra;Ie(o.value);break}case I.SHOW_HIDE_ELEMENT:{const{hideElements:o,showElements:E}=m.element.extra;et(o.value),Xe(E.value);break}case I.HIDE_ELEMENT:{const{hideElements:o}=m.element.extra;et(o.value);break}case I.SHOW_ELEMENT:{const{showElements:o}=m.element.extra;Xe(o.value);break}case"scroll-to-element":{const{scrollToElement:o}=m.element.extra;Ae.$emit("scroll-to-element",o.value);break}case"go-to-next-funnel-step":{f.value=!0,ne();break}case I.GO_TO_STEP:{f.value=!0,ne(m.element.extra.stepPath.value);break}case"sell-product":{if(f.value)return;f.value=!0;const o=`_pl_${a.value.funnelId}`,E=localStorage.getItem(o);let O;if(E&&(O=JSON.parse(E)),a.value.orderFormVersion===2){const ae=re("provider").value;if(b.value.amount===0){const $=qe();if(!$)return;const K=await xe(h,$);if(K.paymentProvider==="free-checkout"||!a.value.requireCreditCard){const ue={altId:a.value.locationId,altType:"location",source:{type:a.value.pageType===de.FUNNEL?de.FUNNEL:de.WEBINAR?de.WEBINAR:de.WEBSITE,id:a.value.funnelId,name:a.value.funnelName},products:[{id:b.value._id,qty:1}]},Ee=await j.getAmountSummary(ue);if(K.paymentProvider==="free-checkout"&&((t=b.value)==null?void 0:t.price.type)==="recurring"&&((l=Ee.recurringSummary)==null?void 0:l.subtotalWithDiscount)>0){await te(),G.value=!0;return}else{await te(),R.value=!1,await le({});return}}}if(b.value.amount>0&&re("provider").value!=="pp"){const $=qe();if(!$)return;if((await xe(h,$)).paymentProvider==="free-checkout"){await te(),G.value=!0;return}}if(ae===U.CUSTOM_PROVIDER&&(O!=null&&O.manualPaymentMethodId)){ie(nt,O==null?void 0:O.manualPaymentMethodId);return}if(re("provider").value==="pp"){Ue.value=!0,ie(st);return}else{if((((c=(u=a.value)==null?void 0:u.paymentProviderDetails)==null?void 0:c.provider)===U.AUTHORIZE_NET||((s=(d=a.value)==null?void 0:d.paymentProviderDetails)==null?void 0:s.provider)===U.WHITE_LABEL&&((p=(_=a.value)==null?void 0:_.paymentProviderDetails)==null?void 0:p.whiteLabelProvider)===U.AUTHORIZE_NET)&&a.value.merchantLoginId){ie(it);return}else if((((r=(P=a.value)==null?void 0:P.paymentProviderDetails)==null?void 0:r.provider)===U.NMI||((N=(g=a.value)==null?void 0:g.paymentProviderDetails)==null?void 0:N.provider)===U.WHITE_LABEL&&((S=(k=a.value)==null?void 0:k.paymentProviderDetails)==null?void 0:S.whiteLabelProvider)===U.NMI)&&a.value.nmiMerchantGatewayId){ie(lt);return}else if(((A=(n=a.value)==null?void 0:n.paymentProviderDetails)==null?void 0:A.provider)===U.SQUARE&&a.value.squareMerchantGatewayId){ie(ot);return}else if(J.value){await xt(U.CUSTOM_PROVIDER);return}const $=a.value.stripePublishableKey,K=a.value.stripeAccountId,ue=a.value.stripePublishableKey;if($&&ue)ye.value=await ta.loadStripe($,{stripeAccount:K||void 0});else{alert("Stripe account not found!");return}wt()}}else Tt();break}case"click-to-call":{const o=m.element.extra;ct(o[me.PHONE_NUMBER].value);break}case"click-to-sms":{const o=m.element.extra;mt(o[me.PHONE_NUMBER].value);break}case"click-to-mail":{const o=m.element.extra;dt(o[me.EMAIL_ADDRESS].value);break}case I.GO_TO_MEMBERSHIP:{try{let o;const E=a.value.locationId,{ct:O,previewUrl:ae}=re(`_mf_${E}`).value;location.hostname==="localhost"?o=`http://localhost:4040/library/?domain=${ae}&token=${O}&location_id=${E}`:o=`${ae}/library?&token=${O}&location_id=${E}`,Ie({url:o,newTab:!1})}catch{alert("Sorry something went wrong.")}break}default:console.error(`Invalid action type received: ${e.value}`)}}const qe=()=>{let e=localStorage.getItem("_ud");e&&(e=JSON.parse(e),sessionStorage.setItem("contactResponse",JSON.stringify(e)));const t=e==null?void 0:e.customer_id;if(!t){L.value="Contact not found!";return}return t};function le(e){var t,l,u,c,d,s,_;try{const p=e==null?void 0:e.membershipPurchase;p!=null&&p.length&&Me(h,p[0].token);const P=e==null?void 0:e.membershipToken;P&&Me(h,P),Bt(()=>{Qt("track","Upsell")});const{saleAction:r,stepPath:g,visitWebsite:N}=m.element.extra;if(!r)if(a.value.funnelNextStep){ne();return}else throw new Error("Redirect not handled");if(a.value.orderFormVersion===2){const k=`_pl_${a.value.funnelId}`,S=localStorage.getItem(k);if(S){let n=JSON.parse(S);n.products.push(b.value),n.total+=(l=(t=i.value)==null?void 0:t.order)==null?void 0:l.amount,n.tax=(d=(c=(u=i.value)==null?void 0:u.order)==null?void 0:c.taxSummary)==null?void 0:d.map(A=>{var E;const o=(E=n==null?void 0:n.tax)==null?void 0:E.find(O=>O._id===A._id);return o?{...o,amount:o.amount+A.amount}:A}),tt(k,JSON.stringify(n))}}else{const k=`_pl_v1_${a.value.funnelId}`,S=localStorage.getItem(k);if(S){let n=JSON.parse(S);n.push((_=(s=m==null?void 0:m.element.extra)==null?void 0:s.productId)==null?void 0:_.value),tt(k,JSON.stringify(n))}}switch(r.value){case"url":if(N&&N.value&&N.value.url){Ie(N.value);break}else throw new Error("Redirect not handled");case"step-path":if(g&&g.value){ne(g.value);break}else throw new Error("Redirect not handled");default:if(a.value.funnelNextStep){ne();break}else throw new Error("Redirect not handled")}}catch(p){{const P=JSON.parse(localStorage.getItem("_ud")||"{}");console.log(p);const r=Ce.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${P==null?void 0:P.id}`)||"")?"We are proccessing your order with the bank. We'll confirm you order after bank's confirmation.":`Order successfully placed! 
 However, Something went wrong while displaying this webpage, please contact the seller.`;alert(r)}f.value=!1;return}}const te=async()=>{var u,c;a.value.countryList.length===0&&await jt();const e=Te(()=>{var d;return((d=Yt(fe==null?void 0:fe.value))==null?void 0:d.states.map(s=>({iso:s.code,name:s.name})))??[]});let t=localStorage.getItem("_ud");t&&(t=JSON.parse(t),sessionStorage.setItem("contactResponse",JSON.stringify(t)));const l=t==null?void 0:t.customer_id;if(!l){L.value="Contact not found!";return}if(se.value&&!H.value){oe.value="Invalid Captcha!",R.value=!1,f.value=!1;return}if(_e.value=((u=e.value.find(d=>d.name===(t==null?void 0:t.state)))==null?void 0:u.iso)??"",z.value.contact.shippingAddress.state=_e.value,i.value=await Xt({contactId:l,domain:a.value.domain,pageUrl:a.value.pageUrl,locationId:h,productPreviewList:[{_id:V,qty:1}],store:a.value,subType:zt.UPSELL,traceId:t==null?void 0:t.traceId,reCaptchaToken:H.value,toZip:t.postal_code,toState:_e.value,toCountry:t.country}),H.value=void 0,(c=i.value)!=null&&c.error){i.value.status===429&&(se.value=!0),L.value=i.value.message??"Error creating order!",R.value=!1,f.value=!1;return}sessionStorage.setItem("orderResponse",JSON.stringify(i.value))};async function wt(){var e,t,l,u,c,d,s,_,p,P;try{if(!V)throw new Error("No product Id found for initiating stripe payment");if(L.value="",await te(),M.value.amount=(t=(e=i.value)==null?void 0:e.order)==null?void 0:t.amount,M.value.currency=ee.value.toLowerCase(),M.value.mode=((l=b.value)==null?void 0:l.price.type)==="recurring"?"subscription":"payment",!((c=(u=i.value)==null?void 0:u.order)!=null&&c.amount)&&((d=b.value)==null?void 0:d.price.type)!=="recurring"&&(M.value.mode="setup"),!i.value||(s=i.value)!=null&&s.error)return;let r={};r={altId:h,altType:"location",orderId:i.value.order._id,reCaptchaToken:H.value};const g=JSON.parse(localStorage.getItem("_ud")||"{}");Ce.includes(localStorage.getItem(`pmt_${a.value.funnelId}_${g==null?void 0:g.id}`)||"")&&(r.paymentMethodTypes=[ve.sepa]);const N=await xe(h,(_=i.value.order)==null?void 0:_.contactId),k=localStorage.getItem(`pmt_${a.value.funnelId}_${g==null?void 0:g.id}`)||"",S=N.paymentMethod||k;if(!!["klarna","affirm","afterpay_clearpay","amazon_pay","revolut_pay","zip","grabpay","fpx"].includes(S)||((p=i.value.order)==null?void 0:p.amount)===0&&S===ve.bacs){G.value=!0;return}const A=await j.initiateStripePayment(r);if(!A.success){L.value=A.message||"We're sorry, but something went wrong. Please try again.";return}const{clientSecret:o,paymentMethodId:E}=A;if(o&&![ve.bacs,ve.cashapp].includes(S)){let Q={};if(Ce.includes(k)?Q=await ye.value.confirmSepaDebitPayment(o,{payment_method:E}):S===ve.becs?Q=await ye.value.confirmAuBecsDebitPayment(o,{payment_method:E}):Q=await ye.value.confirmCardPayment(o,{payment_method:E,setup_future_usage:"off_session"}),Q.error){console.error("Failed to confirm card payment!",Q.error),Q.error.message&&alert(Q.error.message);return}}const{orderId:O,paymentIntentId:ae,subscriptionId:$,invoiceId:K,subId:ue,txnId:Ee}=A,Ct={altId:h,altType:"location",orderId:O,paymentIntentId:ae,subscriptionId:$,invoiceId:K,isAuth:!1,subId:ue,txnId:Ee,attribution:{eventData:he(),sessionId:ge(h),sessionFingerprint:Pe(h)}},we=await j.verifyStripePayment(Ct);if(!we.success){L.value=we.message||"We're sorry, but something went wrong. Please try again.";return}await le(we)}catch(r){if(((P=r==null?void 0:r.response)==null?void 0:P.status)===429){se.value=!0,R.value=!1,f.value=!1;return}L.value=at(r),f.value=!1,console.error(r)}}async function ie(e,t){var l,u,c,d,s;try{if(!V)throw new Error(`No product Id found for initiating ${e||"stripe"} payment`);if(R.value=!0,L.value="",await te(),!i.value||(l=i.value)!=null&&l.error)return;let _;if((u=i.value)!=null&&u.order._id){_={altId:h,altType:"location",orderId:(c=i.value)==null?void 0:c.order._id,attribution:{eventData:he(),sessionId:ge(h),sessionFingerprint:Pe(h)}};let p;switch(e){case it:{p=await j.authorizeNetOrderPayment(_);break}case lt:{p=await j.nmiOrderPayment(_);break}case nt:{t&&(_.manualPaymentMethodId=t),p=await j.customProviderOrderPayment(_);break}case ot:{const P=await ea(h,(d=i.value.order)==null?void 0:d.contactId);if(!P||P==="false"){De.value=((s=b.value)==null?void 0:s.price.type)==="recurring"?"subscription":"",G.value=!0,R.value=!1;return}p=await j.squareOrderPayment({..._,saveCard:!1});break}case st:G.value=!0,R.value=!1;return;default:console.log("Invalid payment provider");break}if(console.error(p),R.value=!1,!p.success){L.value=p.message||"We're sorry, but something went wrong. Please try again.";return}await le({membershipPurchase:p.membershipPurchase,membershipToken:p.membershipToken})}}catch(_){f.value=!1,R.value=!1,console.error(_),L.value=at(_)}}async function Tt(){if(V)try{const e=Gt(),t={...he(),fbEventId:e},l=ge(h),u=Pe(h),c=await rt.funnelPayment({fingerprint:re("msgsndr_id").value,productList:[V],locationId:h,funnelId:ft,stepId:_t,pageId:ht,domain:a.value.domain,pageUrl:a.value.pageUrl,source:"payment_button",submissionType:3,eventData:t,sessionId:l,sessionFingerprint:u,_mp:re("_mp").value});await le(c)}catch(e){console.error(e)}finally{f.value=!0}}function Je(){var t,l,u,c,d;let e="";switch(W){case I.CLICK_TO_CALL:{let s=(t=m.element.extra[me.PHONE_NUMBER])==null?void 0:t.value;s=s==null?void 0:s.replace("tel:",""),e=`tel:${s}`;break}case I.CLICK_TO_SMS:{let s=(l=m.element.extra[me.PHONE_NUMBER])==null?void 0:l.value;s=s==null?void 0:s.replace("sms:",""),e=`sms:${s}`;break}case I.GO_TO_URL:{e=D==null?void 0:D.url,e=Oe(e),e&&!e.startsWith("#")&&!/^https?:/.test(e)&&(e=`https://${e}`),Se.value=D!=null&&D.newTab?"_blank":"";break}case I.GO_TO_STEP:{const s=(d=(c=(u=m.element)==null?void 0:u.extra)==null?void 0:c.stepPath)==null?void 0:d.value;e=vt(s,!1);break}}return e}async function kt(e){if(a.value.videoExistsInPage&&Ae.$emit("handle-redirect"),W===I.GO_TO_STEP){const t=m.element.extra.stepPath.value;pt(e,t)}}function Ot(){G.value=!1,f.value=!1,F.value=!1}async function xt(e){var l,u,c,d,s;if(!V)throw new Error("No product Id found for initiating stripe payment");if(L.value="",await te(),!((u=(l=i.value)==null?void 0:l.order)!=null&&u._id&&e===U.CUSTOM_PROVIDER))return;const t={source:"order",sourceId:(d=(c=i==null?void 0:i.value)==null?void 0:c.order)==null?void 0:d._id,sourceDetails:i.value.order,traceId:i.value.traceId,extra:{attribution:{eventData:he(),sessionId:ge(h),sessionFingerprint:Pe(h)}},captchaToken:H.value};(s=Be.value)==null||s.confirmPayment(t)}return(e,t)=>{const l=na,u=sa,c=oa;return w(),x(Ft,null,[pe.value?(w(),x("a",{key:0,id:`${v.element.id}_btn`,href:be.value,target:Se.value,rel:Se.value==="_blank"?"noreferrer noopener":void 0,"data-animation-class":T(Ne),class:Ye([v.classStyles,"text-center"]),onClick:t[0]||(t[0]=d=>kt(d)),"aria-label":Ve()},[B("span",{style:ce(f.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(w(),x("span",ia)):C("",!0),B("span",ua,Z(T(Y)),1),v.element.extra.icon!==""?(w(),x("span",ca)):C("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(w(),x("span",{key:0,style:ce(f.value?"visibility: hidden;":""),class:"sub-heading-group text-xs font-sans"},[B("span",da,Z(T(X)),1)],4)):C("",!0)],10,la)):C("",!0),se.value?(w(),x("section",ma,[ke(l,{onExpired:t[1]||(t[1]=()=>H.value=""),onVerify:bt}),oe.value?(w(),x("p",va,Z(oe.value),1)):C("",!0)])):C("",!0),pe.value?C("",!0):(w(),x("button",{key:2,disabled:f.value||T(J)&&F.value,"data-animation-class":T(Ne),id:`${v.element.id}_btn`,style:ce(f.value||T(J)&&F.value?"cursor: default;":""),class:Ye([v.classStyles]),onClick:Et,"aria-label":Ve()},[B("div",{style:ce(f.value||T(J)&&F.value?"visibility: hidden;":""),class:"main-heading-group"},[v.element.extra.icon!==""?(w(),x("div",ya)):C("",!0),B("div",fa,Z(T(Y)),1),v.element.extra.icon!==""?(w(),x("div",_a)):C("",!0)],4),v.element.extra.subText&&v.element.extra.subText.value?(w(),x("div",{key:0,style:ce(f.value||T(J)&&F.value?"visibility: hidden;":""),class:"text-xs font-sans"},[B("div",ha,Z(T(X)),1)],4)):C("",!0),Nt(B("div",ga,[ke(ra,{loading:f.value||T(J)&&F.value,color:"rgb(255, 255, 255)",size:"30px"},null,8,["loading"])],512),[[Mt,f.value||T(J)&&F.value]])],14,pa)),B("div",null,[Fe.value&&T(a).funnelPageId&&T(J)?(w(),x("section",Pa,[B("div",{id:`${v.element.id}-payment-form`,class:"payment-form"},[ke(u,{id:`${v.element.id}-payment-element`,ref_key:"confirmPaymentRef",ref:Be,customProviderProps:z.value,onPaymentCallback:Pt},null,8,["id","customProviderProps"]),q.value?(w(),x("div",ba,[Sa,At(" "+Z(q.value),1)])):C("",!0)],8,Ia)])):C("",!0)]),L.value?(w(),x("div",Ea,Z(L.value),1)):C("",!0),G.value?(w(),Ut(c,{key:4,extra:m.element.extra,stripeOptions:M.value,order:i.value,traceId:i.value.traceId,element:m.element,styles:v.classStyles,squarePaymentMode:De.value,showPaypal:Ue.value&&ee.value,paymentProps:{currency:ee.value,mode:T(gt)?"subscription":"onetime"},onClosePaymentElementModal:Ot},null,8,["extra","stripeOptions","order","traceId","element","styles","squarePaymentMode","showPaypal","paymentProps"])):C("",!0)],64)}}});export{za as default};
